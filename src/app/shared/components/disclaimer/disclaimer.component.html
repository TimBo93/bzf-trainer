<div
  class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4"
  (click)="aboutMode() ? close() : null"
>
  <div
    class="bg-card rounded-2xl p-6 sm:p-8 max-w-lg w-full shadow-2xl border max-h-[90vh] overflow-y-auto"
    (click)="$event.stopPropagation()"
  >
    <!-- Header -->
    <div class="flex items-start justify-between mb-6">
      <div class="flex items-center gap-3">
        <div class="w-12 h-12 rounded-full bg-amber-500/10 flex items-center justify-center">
          <lucide-icon [img]="AlertTriangle" class="h-6 w-6 text-amber-500"></lucide-icon>
        </div>
        <div>
          <h2 class="text-xl font-bold">
            {{ (aboutMode() ? 'disclaimer.aboutTitle' : 'disclaimer.title') | translate }}
          </h2>
          <p class="text-sm text-muted-foreground">
            {{ (aboutMode() ? 'disclaimer.appName' : 'disclaimer.readFirst') | translate }}
          </p>
        </div>
      </div>
      @if (aboutMode()) {
      <button (click)="close()" class="p-2 hover:bg-secondary rounded-lg transition-colors">
        <lucide-icon [img]="X" class="h-5 w-5"></lucide-icon>
      </button>
      }
    </div>

    <!-- Content -->
    <div class="space-y-4 text-sm text-muted-foreground">
      <!-- Language Selector -->
      <div class="bg-primary/10 rounded-xl p-4 border border-primary/20">
        <p class="font-medium text-foreground mb-2 flex items-center gap-2">
          <lucide-icon [img]="Globe" class="h-4 w-4"></lucide-icon>
          {{ 'disclaimer.language' | translate }}
        </p>
        <div class="flex gap-2 mb-2">
          <button
            (click)="setLanguage('de')"
            class="flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors"
            [class.bg-primary]="translationService.language() === 'de'"
            [class.text-primary-foreground]="translationService.language() === 'de'"
            [class.bg-secondary]="translationService.language() !== 'de'"
          >
            ðŸ‡©ðŸ‡ª Deutsch
          </button>
          <button
            (click)="setLanguage('en')"
            class="flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors"
            [class.bg-primary]="translationService.language() === 'en'"
            [class.text-primary-foreground]="translationService.language() === 'en'"
            [class.bg-secondary]="translationService.language() !== 'en'"
          >
            ðŸ‡¬ðŸ‡§ English
          </button>
        </div>
        <p class="text-xs text-muted-foreground">{{ 'disclaimer.languageNote' | translate }}</p>
      </div>

      <div class="bg-secondary/50 rounded-xl p-4">
        <p class="font-medium text-foreground mb-1">{{ 'disclaimer.hobbyProject' | translate }}</p>
        <p>
          {{ 'disclaimer.hobbyText' | translate }}
          <a
            href="https://borowski-software.de"
            target="_blank"
            rel="noopener"
            class="text-primary hover:underline inline-flex items-center gap-1"
          >
            Tim Borowski
            <lucide-icon [img]="ExternalLink" class="h-3 w-3"></lucide-icon> </a
          >{{ 'disclaimer.freelancer' | translate }}
        </p>
      </div>

      <div class="bg-secondary/50 rounded-xl p-4">
        <p class="font-medium text-foreground mb-1">{{ 'disclaimer.purpose' | translate }}</p>
        <p [innerHTML]="'disclaimer.purposeText' | translate"></p>
      </div>

      <div class="bg-secondary/50 rounded-xl p-4">
        <p class="font-medium text-foreground mb-1">{{ 'disclaimer.source' | translate }}</p>
        <p [innerHTML]="'disclaimer.sourceText' | translate"></p>
      </div>

      <div class="bg-secondary/50 rounded-xl p-4">
        <p class="font-medium text-foreground mb-1">{{ 'disclaimer.aiBuilt' | translate }}</p>
        <p [innerHTML]="'disclaimer.aiText' | translate"></p>
      </div>

      <div class="bg-secondary/50 rounded-xl p-4">
        <p class="font-medium text-foreground mb-1">{{ 'disclaimer.privacy' | translate }}</p>
        <p [innerHTML]="'disclaimer.privacyText' | translate"></p>
      </div>

      <div class="bg-primary/10 rounded-xl p-4 border border-primary/20">
        <p class="font-medium text-foreground mb-1">{{ 'disclaimer.feedback' | translate }}</p>
        <p>{{ 'disclaimer.feedbackText' | translate }}</p>
        <p class="mt-2">
          <strong class="text-foreground">{{ 'disclaimer.email' | translate }}</strong>
          <a href="mailto:tim@borowski-software.de" class="text-primary hover:underline"
            >tim[at]borowski-software.de</a
          >
        </p>
      </div>
    </div>

    <!-- Accept Button -->
    <button
      (click)="accept()"
      class="w-full mt-6 py-3 px-6 bg-primary text-primary-foreground rounded-xl font-medium hover:bg-primary/90 transition-colors"
    >
      {{ (aboutMode() ? 'disclaimer.close' : 'disclaimer.understood') | translate }}
    </button>
  </div>
</div>
